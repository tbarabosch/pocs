#include <stdlib.h>
#include <stdio.h>
#include <unistd.h>
#include <sys/param.h>
#include <sys/ucred.h>
#include <sys/mount.h>

#include <sys/syscall.h>

#define FREEBSD4_GETSTATFS 18

int main(int argc, char *argv[])
{
        void* buf = malloc(sizeof(statfs));
        if (buf == NULL) {
                printf("Could allocate memory.");
                exit(1);
        }

        // syscall prototype:
        // int getfsstat(struct statfs *buf, long	bufsize, int mode);
        syscall(FREEBSD4_GETSTATFS, buf, 0x4242424242424242, 0);

        // never reached
        free(buf);

        return 0;
}
